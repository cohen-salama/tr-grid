# TR-GRID

## description

TR-GRID is an interactive rhythm composer based on the functionality of old Roland drum machines. TR-GRID generates its user interface by putting together 4 grids of 16 slots, each of them representing a 16th note inside a cyclic 4/4 measure. The amount of slots (or "steps") can be changed, so the cyclic measure can go from 2/16 (2 steps) to 8/4 (32 steps). Each grid allows the user to design a pattern that plays the instrument indicated at the start of the grid, with a volume correspondent to the number input at the end of the grid. The sounds on this first version of TR-GRID are basic samples from a Roland TR-909.

The drum beat generated by TR-GRID loops constantly until stopped and is responsive to live changes in the user's pattern design. It also responds to tempo or volume changes and, in both cases, it does so with one musical measure of delay. 

After pressing play, the user can stop TR-GRID from looping, then press play again or decide to clear the grid to begin with the design of a new pattern.

The functionality of this app is achieved by utilizing a Web Audio Api context to create some audio buffers. These buffers are meant to be played by a loop function that's triggered by the play button and iterates over a 2-32 element (or "beats") array. This function sets a timeout interval relative to the occurence of each of the 16th notes inside a measure in order to fire this 2-32 iterations equally spaced in time. In each iteration, the loop will be playing either the corresponding sound or nothing by reading the content of the mentioned 2-32 element beats array that's kept in state and is generated by the user's interaction with the slots. This array can be downloaded in json format for future recall. The app uses the componentDidUpdate lifecycle method to decide whether to continue or to stop playing the sequence in an eternal loop.

## features

* visual rhythm composer
* play, stop and clear grid controls
* infinite loop playback of the drum beat
* number of steps selector
* live tempo control
* live response to pattern changes
* live individual part volume control
* live beat saving and loading

## technologies

* React
* Javascript
* CSS & HTML
* Web Audio Api

## live version

[TR-GRID](https://tr-grid.netlify.app)
